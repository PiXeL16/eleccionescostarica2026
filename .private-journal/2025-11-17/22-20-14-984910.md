---
title: "10:20:14 PM - November 17, 2025"
date: 2025-11-17T21:20:14.984Z
timestamp: 1763414414984
---

## Project Notes

## Party Comparison View Architecture - Chris's Elecciones2026 Project

### Key Components Found:

1. **ComparisonView.tsx** - Main comparison display component
   - Location: `/Users/christopher.jimenez/Src/Personal/Elecciones2026/web/components/ComparisonView.tsx`
   - Server/Client: Client-side component ('use client')
   - Key Features:
     - Manages URL search params for party selection
     - Sticky header with party flags displayed (w-20 aspect-[5/2])
     - Grid layout that scales with number of selected parties (max 3)
     - Category-based comparison grid
     - Scroll indicator for mobile UX (visible until user scrolls 50% viewport height)
     - Party flags rendered with Image component (object-contain, rounded)
     - Mobile responsive with fixed scroll indicator at bottom

2. **PartySelector.tsx** - Flag selection component
   - Location: `/Users/christopher.jimenez/Src/Personal/Elecciones2026/web/components/PartySelector.tsx`
   - Client-side component ('use client')
   - Key Features:
     - Handles flag click/selection via `handleToggleParty()`
     - Displays up to 3 party selection (enforced with max 3 check)
     - Visual feedback: selected party gets border-primary-500 bg-primary-50
     - Checkbox icon shown when selected
     - Disabled state (opacity-50 cursor-not-allowed) when limit reached
     - Uses router.push() with scroll: false to update URL params
     - Grid layout: `sm:grid-cols-2 lg:grid-cols-3` for responsive display
     - Flag dimensions: `w-20 aspect-[5/2]` (consistent with ComparisonView)
     - Mobile responsive - starts at 2 cols on sm, 3 on lg

3. **party-images.ts** - Flag path utility
   - Location: `/Users/christopher.jimenez/Src/Personal/Elecciones2026/web/lib/party-images.ts`
   - Functions:
     - `getPartyFlagPath()` - Returns `/party_flags/{ABBREVIATION}.jpg`
     - `hasCandidatePhoto()` and `getCandidatePhotoPath()` - Candidate related
     - `hasPartyFlag()` - Checks if party has flag (all 20 parties in system have flags)

### Flag Display Styling:
- Both components use identical flag dimensions: `w-20 aspect-[5/2]` with `rounded overflow-hidden`
- Background: `bg-gray-100 dark:bg-gray-800`
- Image uses `object-contain` to preserve aspect ratio
- Image prop: `unoptimized` to avoid Next.js optimization issues

### Mobile UX Features:
- PartySelector uses responsive grid: starts 2 cols, grows to 3 cols on large
- ComparisonView uses fixed scroll indicator with bounce animation
- Scroll indicator disappears after 50% viewport height is scrolled
- Both components support dark mode

### Flag Click/Selection Flow:
1. User clicks flag button in PartySelector
2. `handleToggleParty(slug)` is called
3. Adds/removes party from selectedSlugs array (max 3 enforcement)
4. Updates URL params via `router.push(/comparar?parties=PLN,PUSC,FA)`
5. ComparisonView re-renders with filtered comparison data

