{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":["file:///Users/christopher.jimenez/Src/Personal/Elecciones2026/web/lib/database.ts"],"sourcesContent":["// ABOUTME: Database connection layer for SQLite using better-sqlite3\n// ABOUTME: Provides read-only access to political party data\n\nimport Database from 'better-sqlite3';\nimport { join } from 'path';\n\n// Database path (shared with pipeline)\nconst DB_PATH = join(process.cwd(), '..', 'data', 'database.db');\n\n// Types\nexport interface Party {\n  id: number;\n  name: string;\n  abbreviation: string;\n  folder_name: string;\n  created_at: string;\n}\n\nexport interface Category {\n  id: number;\n  category_key: string;\n  name: string;\n  description: string;\n  prompt_context: string | null;\n  display_order: number;\n  active: number;\n  created_at: string;\n}\n\nexport interface PartyPosition {\n  id: number;\n  party_id: number;\n  category_id: number;\n  document_id: number;\n  summary: string;\n  key_proposals: string; // JSON array\n  ideology_position: string | null;\n  budget_mentioned: string | null;\n  confidence_score: number | null;\n  tokens_used: number | null;\n  cost_usd: number | null;\n  created_at: string;\n}\n\nexport interface PartyWithPositions extends Party {\n  positions: (PartyPosition & { category: Category })[];\n}\n\n// Database singleton\nlet db: Database.Database | null = null;\n\nfunction getDatabase() {\n  if (!db) {\n    db = new Database(DB_PATH, { readonly: true, fileMustExist: true });\n  }\n  return db;\n}\n\n/**\n * Get all political parties\n */\nexport function getAllParties(): Party[] {\n  const db = getDatabase();\n  const stmt = db.prepare('SELECT * FROM parties ORDER BY name');\n  return stmt.all() as Party[];\n}\n\n/**\n * Get a specific party by slug (abbreviation)\n */\nexport function getPartyBySlug(slug: string): Party | null {\n  const db = getDatabase();\n  const stmt = db.prepare('SELECT * FROM parties WHERE abbreviation = ?');\n  return (stmt.get(slug.toUpperCase()) as Party) || null;\n}\n\n/**\n * Get all categories\n */\nexport function getAllCategories(): Category[] {\n  const db = getDatabase();\n  const stmt = db.prepare('SELECT * FROM categories WHERE active = 1 ORDER BY display_order');\n  return stmt.all() as Category[];\n}\n\n/**\n * Get a category by key\n */\nexport function getCategoryByKey(key: string): Category | null {\n  const db = getDatabase();\n  const stmt = db.prepare('SELECT * FROM categories WHERE category_key = ? AND active = 1');\n  return (stmt.get(key) as Category) || null;\n}\n\n/**\n * Get party positions for a specific party\n */\nexport function getPartyPositions(partyId: number): (PartyPosition & { category: Category })[] {\n  const db = getDatabase();\n  const stmt = db.prepare(`\n    SELECT\n      pp.*,\n      c.id as category_id,\n      c.category_key,\n      c.name as category_name,\n      c.description as category_description,\n      c.display_order\n    FROM party_positions pp\n    JOIN categories c ON pp.category_id = c.id\n    WHERE pp.party_id = ? AND c.active = 1\n    ORDER BY c.display_order\n  `);\n\n  const rows = stmt.all(partyId) as any[];\n\n  return rows.map((row) => ({\n    id: row.id,\n    party_id: row.party_id,\n    category_id: row.category_id,\n    document_id: row.document_id,\n    summary: row.summary,\n    key_proposals: row.key_proposals,\n    ideology_position: row.ideology_position,\n    budget_mentioned: row.budget_mentioned,\n    confidence_score: row.confidence_score,\n    tokens_used: row.tokens_used,\n    cost_usd: row.cost_usd,\n    created_at: row.created_at,\n    category: {\n      id: row.category_id,\n      category_key: row.category_key,\n      name: row.category_name,\n      description: row.category_description,\n      prompt_context: null,\n      display_order: row.display_order,\n      active: 1,\n      created_at: '',\n    },\n  }));\n}\n\n/**\n * Get document for a party\n */\nexport function getPartyDocument(partyId: number) {\n  const db = getDatabase();\n  const stmt = db.prepare('SELECT * FROM documents WHERE party_id = ?');\n  return stmt.get(partyId);\n}\n\n/**\n * Get extracted text for a document (concatenates all pages)\n */\nexport function getDocumentText(documentId: number): string | null {\n  const db = getDatabase();\n  const stmt = db.prepare('SELECT raw_text FROM document_text WHERE document_id = ? ORDER BY page_number');\n  const results = stmt.all(documentId) as { raw_text: string }[];\n\n  if (results.length === 0) return null;\n\n  return results.map(r => r.raw_text).join('\\n\\n');\n}\n\n/**\n * Get a specific party with all its positions\n */\nexport function getPartyWithPositions(slug: string): PartyWithPositions | null {\n  const party = getPartyBySlug(slug);\n  if (!party) return null;\n\n  const positions = getPartyPositions(party.id);\n\n  return {\n    ...party,\n    positions,\n  };\n}\n\n/**\n * Compare multiple parties (for comparison page)\n */\nexport function compareParties(\n  slugs: string[]\n): { parties: Party[]; categories: Category[]; positions: Map<string, Map<string, PartyPosition>> } {\n  const parties = slugs.map((slug) => getPartyBySlug(slug)).filter((p): p is Party => p !== null);\n  const categories = getAllCategories();\n\n  // Build a map of party slug -> category key -> position\n  const positions = new Map<string, Map<string, PartyPosition>>();\n\n  for (const party of parties) {\n    const partyPositions = getPartyPositions(party.id);\n    const positionMap = new Map<string, PartyPosition>();\n\n    for (const pos of partyPositions) {\n      positionMap.set(pos.category.category_key, pos);\n    }\n\n    positions.set(party.abbreviation, positionMap);\n  }\n\n  return { parties, categories, positions };\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 164, "column": 0}, "map": {"version":3,"sources":["file:///Users/christopher.jimenez/Src/Personal/Elecciones2026/web/lib/party-colors.ts"],"sourcesContent":["// ABOUTME: Party color configuration for visual branding\n// ABOUTME: Provides color palettes and badge colors for all 20 parties\n\nexport interface PartyColors {\n  bg: string;\n  text: string;\n  border: string;\n  hover: string;\n}\n\n// Color palette for each party (generated based on common Costa Rican party colors)\nexport const PARTY_COLORS: Record<string, PartyColors> = {\n  PLN: {\n    bg: 'bg-green-600',\n    text: 'text-white',\n    border: 'border-green-700',\n    hover: 'hover:bg-green-700',\n  },\n  PUSC: {\n    bg: 'bg-blue-600',\n    text: 'text-white',\n    border: 'border-blue-700',\n    hover: 'hover:bg-blue-700',\n  },\n  FA: {\n    bg: 'bg-red-600',\n    text: 'text-white',\n    border: 'border-red-700',\n    hover: 'hover:bg-red-700',\n  },\n  PAC: {\n    bg: 'bg-yellow-500',\n    text: 'text-black',\n    border: 'border-yellow-600',\n    hover: 'hover:bg-yellow-600',\n  },\n  ACRM: {\n    bg: 'bg-purple-600',\n    text: 'text-white',\n    border: 'border-purple-700',\n    hover: 'hover:bg-purple-700',\n  },\n  CAC: {\n    bg: 'bg-indigo-600',\n    text: 'text-white',\n    border: 'border-indigo-700',\n    hover: 'hover:bg-indigo-700',\n  },\n  CDS: {\n    bg: 'bg-teal-600',\n    text: 'text-white',\n    border: 'border-teal-700',\n    hover: 'hover:bg-teal-700',\n  },\n  CR1: {\n    bg: 'bg-orange-600',\n    text: 'text-white',\n    border: 'border-orange-700',\n    hover: 'hover:bg-orange-700',\n  },\n  PA: {\n    bg: 'bg-pink-600',\n    text: 'text-white',\n    border: 'border-pink-700',\n    hover: 'hover:bg-pink-700',\n  },\n  PDLCT: {\n    bg: 'bg-rose-600',\n    text: 'text-white',\n    border: 'border-rose-700',\n    hover: 'hover:bg-rose-700',\n  },\n  PEL: {\n    bg: 'bg-cyan-600',\n    text: 'text-white',\n    border: 'border-cyan-700',\n    hover: 'hover:bg-cyan-700',\n  },\n  PEN: {\n    bg: 'bg-amber-600',\n    text: 'text-white',\n    border: 'border-amber-700',\n    hover: 'hover:bg-amber-700',\n  },\n  PIN: {\n    bg: 'bg-lime-600',\n    text: 'text-black',\n    border: 'border-lime-700',\n    hover: 'hover:bg-lime-700',\n  },\n  PJSC: {\n    bg: 'bg-emerald-600',\n    text: 'text-white',\n    border: 'border-emerald-700',\n    hover: 'hover:bg-emerald-700',\n  },\n  PLP: {\n    bg: 'bg-sky-600',\n    text: 'text-white',\n    border: 'border-sky-700',\n    hover: 'hover:bg-sky-700',\n  },\n  PNG: {\n    bg: 'bg-violet-600',\n    text: 'text-white',\n    border: 'border-violet-700',\n    hover: 'hover:bg-violet-700',\n  },\n  PNR: {\n    bg: 'bg-fuchsia-600',\n    text: 'text-white',\n    border: 'border-fuchsia-700',\n    hover: 'hover:bg-fuchsia-700',\n  },\n  PPSO: {\n    bg: 'bg-slate-600',\n    text: 'text-white',\n    border: 'border-slate-700',\n    hover: 'hover:bg-slate-700',\n  },\n  PSD: {\n    bg: 'bg-zinc-600',\n    text: 'text-white',\n    border: 'border-zinc-700',\n    hover: 'hover:bg-zinc-700',\n  },\n  PUCD: {\n    bg: 'bg-neutral-600',\n    text: 'text-white',\n    border: 'border-neutral-700',\n    hover: 'hover:bg-neutral-700',\n  },\n  UP: {\n    bg: 'bg-stone-600',\n    text: 'text-white',\n    border: 'border-stone-700',\n    hover: 'hover:bg-stone-700',\n  },\n};\n\n/**\n * Get color classes for a party\n */\nexport function getPartyColors(abbreviation: string): PartyColors {\n  return (\n    PARTY_COLORS[abbreviation] || {\n      bg: 'bg-gray-600',\n      text: 'text-white',\n      border: 'border-gray-700',\n      hover: 'hover:bg-gray-700',\n    }\n  );\n}\n"],"names":[],"mappings":"AAAA,yDAAyD;AACzD,uEAAuE;;;;;;;AAUhE,MAAM,eAA4C;IACvD,KAAK;QACH,IAAI;QACJ,MAAM;QACN,QAAQ;QACR,OAAO;IACT;IACA,MAAM;QACJ,IAAI;QACJ,MAAM;QACN,QAAQ;QACR,OAAO;IACT;IACA,IAAI;QACF,IAAI;QACJ,MAAM;QACN,QAAQ;QACR,OAAO;IACT;IACA,KAAK;QACH,IAAI;QACJ,MAAM;QACN,QAAQ;QACR,OAAO;IACT;IACA,MAAM;QACJ,IAAI;QACJ,MAAM;QACN,QAAQ;QACR,OAAO;IACT;IACA,KAAK;QACH,IAAI;QACJ,MAAM;QACN,QAAQ;QACR,OAAO;IACT;IACA,KAAK;QACH,IAAI;QACJ,MAAM;QACN,QAAQ;QACR,OAAO;IACT;IACA,KAAK;QACH,IAAI;QACJ,MAAM;QACN,QAAQ;QACR,OAAO;IACT;IACA,IAAI;QACF,IAAI;QACJ,MAAM;QACN,QAAQ;QACR,OAAO;IACT;IACA,OAAO;QACL,IAAI;QACJ,MAAM;QACN,QAAQ;QACR,OAAO;IACT;IACA,KAAK;QACH,IAAI;QACJ,MAAM;QACN,QAAQ;QACR,OAAO;IACT;IACA,KAAK;QACH,IAAI;QACJ,MAAM;QACN,QAAQ;QACR,OAAO;IACT;IACA,KAAK;QACH,IAAI;QACJ,MAAM;QACN,QAAQ;QACR,OAAO;IACT;IACA,MAAM;QACJ,IAAI;QACJ,MAAM;QACN,QAAQ;QACR,OAAO;IACT;IACA,KAAK;QACH,IAAI;QACJ,MAAM;QACN,QAAQ;QACR,OAAO;IACT;IACA,KAAK;QACH,IAAI;QACJ,MAAM;QACN,QAAQ;QACR,OAAO;IACT;IACA,KAAK;QACH,IAAI;QACJ,MAAM;QACN,QAAQ;QACR,OAAO;IACT;IACA,MAAM;QACJ,IAAI;QACJ,MAAM;QACN,QAAQ;QACR,OAAO;IACT;IACA,KAAK;QACH,IAAI;QACJ,MAAM;QACN,QAAQ;QACR,OAAO;IACT;IACA,MAAM;QACJ,IAAI;QACJ,MAAM;QACN,QAAQ;QACR,OAAO;IACT;IACA,IAAI;QACF,IAAI;QACJ,MAAM;QACN,QAAQ;QACR,OAAO;IACT;AACF;AAKO,SAAS,eAAe,YAAoB;IACjD,OACE,YAAY,CAAC,aAAa,IAAI;QAC5B,IAAI;QACJ,MAAM;QACN,QAAQ;QACR,OAAO;IACT;AAEJ","debugId":null}},
    {"offset": {"line": 312, "column": 0}, "map": {"version":3,"sources":["file:///Users/christopher.jimenez/Src/Personal/Elecciones2026/web/lib/category-display.ts"],"sourcesContent":["// ABOUTME: Category display name overrides for visual presentation\n// ABOUTME: Maps database category names to user-facing display names\n\n/**\n * Override certain category names for display purposes\n * without modifying the database\n */\nexport function getCategoryDisplayName(categoryName: string): string {\n  const overrides: Record<string, string> = {\n    'Ambiente y Liderazgo Verde': 'Ambiente',\n  };\n\n  return overrides[categoryName] || categoryName;\n}\n"],"names":[],"mappings":"AAAA,mEAAmE;AACnE,qEAAqE;AAErE;;;CAGC;;;;AACM,SAAS,uBAAuB,YAAoB;IACzD,MAAM,YAAoC;QACxC,8BAA8B;IAChC;IAEA,OAAO,SAAS,CAAC,aAAa,IAAI;AACpC","debugId":null}},
    {"offset": {"line": 331, "column": 0}, "map": {"version":3,"sources":["file:///Users/christopher.jimenez/Src/Personal/Elecciones2026/web/lib/party-images.ts"],"sourcesContent":["// ABOUTME: Party image utilities for accessing flag images\n// ABOUTME: Provides path to party flag images stored in public folder\n\n/**\n * Get the path to a party's flag image\n * @param abbreviation - Party abbreviation (e.g., \"PLN\", \"PUSC\")\n * @returns Path to the flag image\n */\nexport function getPartyFlagPath(abbreviation: string): string {\n  // All flags are .jpg\n  return `/party_flags/${abbreviation}.jpg`;\n}\n\n/**\n * Check if a party has a flag image available\n * @param abbreviation - Party abbreviation\n * @returns true if the party has a flag image\n */\nexport function hasPartyFlag(abbreviation: string): boolean {\n  // All 20 parties in our database have flags\n  const partiesWithFlags = [\n    'ACRM', 'CAC', 'CDS', 'CR1', 'FA', 'PA', 'PDLCT', 'PEL', 'PEN', 'PIN',\n    'PJSC', 'PLN', 'PLP', 'PNG', 'PNR', 'PPSO', 'PSD', 'PUCD', 'PUSC', 'UP'\n  ];\n  return partiesWithFlags.includes(abbreviation);\n}\n"],"names":[],"mappings":"AAAA,2DAA2D;AAC3D,sEAAsE;AAEtE;;;;CAIC;;;;;;AACM,SAAS,iBAAiB,YAAoB;IACnD,qBAAqB;IACrB,OAAO,CAAC,aAAa,EAAE,aAAa,IAAI,CAAC;AAC3C;AAOO,SAAS,aAAa,YAAoB;IAC/C,4CAA4C;IAC5C,MAAM,mBAAmB;QACvB;QAAQ;QAAO;QAAO;QAAO;QAAM;QAAM;QAAS;QAAO;QAAO;QAChE;QAAQ;QAAO;QAAO;QAAO;QAAO;QAAQ;QAAO;QAAQ;QAAQ;KACpE;IACD,OAAO,iBAAiB,QAAQ,CAAC;AACnC","debugId":null}},
    {"offset": {"line": 377, "column": 0}, "map": {"version":3,"sources":["file:///Users/christopher.jimenez/Src/Personal/Elecciones2026/web/components/Accordion.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Accordion = registerClientReference(\n    function() { throw new Error(\"Attempted to call Accordion() from the server but Accordion is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/Accordion.tsx <module evaluation>\",\n    \"Accordion\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,YAAY,IAAA,wQAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,0DACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 391, "column": 0}, "map": {"version":3,"sources":["file:///Users/christopher.jimenez/Src/Personal/Elecciones2026/web/components/Accordion.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Accordion = registerClientReference(\n    function() { throw new Error(\"Attempted to call Accordion() from the server but Accordion is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/Accordion.tsx\",\n    \"Accordion\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,YAAY,IAAA,wQAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,sCACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 405, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 413, "column": 0}, "map": {"version":3,"sources":["file:///Users/christopher.jimenez/Src/Personal/Elecciones2026/web/app/partido/%5Bslug%5D/page.tsx"],"sourcesContent":["// ABOUTME: Party detail page showing complete platform with TOC and PDF link\n// ABOUTME: Displays all positions organized by category with quick navigation\n\nimport { notFound } from 'next/navigation';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { getAllParties, getPartyWithPositions, getPartyDocument, getDocumentText } from '@/lib/database';\nimport { getPartyColors } from '@/lib/party-colors';\nimport { getCategoryDisplayName } from '@/lib/category-display';\nimport { getPartyFlagPath } from '@/lib/party-images';\nimport { Accordion } from '@/components/Accordion';\n\ninterface PageProps {\n  params: Promise<{ slug: string }>;\n}\n\nexport async function generateStaticParams() {\n  const parties = getAllParties();\n  return parties.map((party) => ({\n    slug: party.abbreviation.toLowerCase(),\n  }));\n}\n\nexport async function generateMetadata({ params }: PageProps) {\n  const { slug } = await params;\n  const party = getPartyWithPositions(slug);\n\n  if (!party) {\n    return { title: 'Partido no encontrado' };\n  }\n\n  return {\n    title: `${party.name} (${party.abbreviation}) - Plataforma 2026`,\n    description: `Plataforma pol√≠tica completa del ${party.name} para las elecciones de Costa Rica 2026`,\n  };\n}\n\nexport default async function PartyDetailPage({ params }: PageProps) {\n  const { slug } = await params;\n  const party = getPartyWithPositions(slug);\n\n  if (!party) {\n    notFound();\n  }\n\n  const colors = getPartyColors(party.abbreviation);\n  const document = getPartyDocument(party.id) as any;\n  const extractedText = document ? getDocumentText(document.id) : null;\n\n  // Prepare accordion items\n  const accordionItems = party.positions.map((pos) => {\n    const proposals = pos.key_proposals ? JSON.parse(pos.key_proposals) : [];\n\n    return {\n      id: pos.category.category_key,\n      title: getCategoryDisplayName(pos.category.name),\n      content: (\n        <div className=\"space-y-4\">\n          {/* Summary */}\n          <div>\n            <h4 className=\"text-sm font-medium text-gray-400 mb-2\">Resumen</h4>\n            <p className=\"text-gray-300 leading-relaxed\">{pos.summary}</p>\n          </div>\n\n          {/* Key Proposals */}\n          {proposals.length > 0 && (\n            <div>\n              <h4 className=\"text-sm font-medium text-gray-400 mb-2\">Propuestas Clave</h4>\n              <ul className=\"space-y-2\">\n                {proposals.map((proposal: string, idx: number) => (\n                  <li key={idx} className=\"flex gap-3 text-gray-300\">\n                    <span className=\"text-blue-400 font-bold\">‚Ä¢</span>\n                    <span>{proposal}</span>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n\n          {/* Ideology Position */}\n          {pos.ideology_position && (\n            <div>\n              <h4 className=\"text-sm font-medium text-gray-400 mb-2\">Posici√≥n Ideol√≥gica</h4>\n              <p className=\"text-gray-300\">{pos.ideology_position}</p>\n            </div>\n          )}\n\n          {/* Budget Mentioned */}\n          {pos.budget_mentioned && (\n            <div>\n              <h4 className=\"text-sm font-medium text-gray-400 mb-2\">Presupuesto Mencionado</h4>\n              <p className=\"text-gray-300\">{pos.budget_mentioned}</p>\n            </div>\n          )}\n        </div>\n      ),\n    };\n  });\n\n  return (\n    <div className=\"max-w-7xl mx-auto space-y-8\">\n      {/* Back Button */}\n      <Link\n        href=\"/\"\n        className=\"inline-flex items-center gap-2 text-gray-400 hover:text-white transition\"\n      >\n        <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n        </svg>\n        Volver a todos los partidos\n      </Link>\n\n      {/* Party Header */}\n      <div className=\"rounded-xl border border-gray-800 bg-gray-900 p-8\">\n        <div className=\"flex items-center gap-6\">\n          {/* Party Flag */}\n          <div className=\"w-64 aspect-[5/2] relative rounded-xl overflow-hidden shrink-0 bg-gray-800\">\n            <Image\n              src={getPartyFlagPath(party.abbreviation)}\n              alt={`Bandera de ${party.name}`}\n              fill\n              className=\"object-contain\"\n              unoptimized\n            />\n          </div>\n\n          {/* Party Info */}\n          <div className=\"flex-1\">\n            <h1 className=\"text-3xl font-bold text-white\">{party.name}</h1>\n            <p className=\"mt-2 text-lg text-gray-400\">{party.abbreviation}</p>\n            <div className=\"mt-4 flex flex-wrap gap-3\">\n              <Link\n                href={`/comparar?parties=${party.abbreviation.toLowerCase()}`}\n                className=\"rounded-lg bg-blue-600 px-6 py-2 font-medium text-white transition hover:bg-blue-700\"\n              >\n                Comparar con otros\n              </Link>\n              {document && (\n                <a\n                  href={`/../data/partidos/${party.folder_name}/${party.abbreviation}.pdf`}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"rounded-lg border border-gray-700 bg-gray-800 px-6 py-2 font-medium text-white transition hover:bg-gray-700\"\n                >\n                  üìÑ Ver PDF Original\n                </a>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"grid gap-8 lg:grid-cols-[250px_1fr]\">\n        {/* Table of Contents - Sticky */}\n        <div className=\"lg:sticky lg:top-8 lg:self-start\">\n          <div className=\"rounded-xl border border-gray-800 bg-gray-900 p-4\">\n            <h3 className=\"font-semibold text-white mb-3\">Navegaci√≥n R√°pida</h3>\n            <nav className=\"space-y-1\">\n              {party.positions.map((pos) => (\n                <a\n                  key={pos.category.category_key}\n                  href={`#${pos.category.category_key}`}\n                  className=\"block rounded px-3 py-2 text-sm text-gray-400 transition hover:bg-gray-800 hover:text-white\"\n                >\n                  {getCategoryDisplayName(pos.category.name)}\n                </a>\n              ))}\n              {extractedText && (\n                <a\n                  href=\"#texto-completo\"\n                  className=\"block rounded px-3 py-2 text-sm text-gray-400 transition hover:bg-gray-800 hover:text-white\"\n                >\n                  Texto Completo\n                </a>\n              )}\n            </nav>\n          </div>\n        </div>\n\n        {/* Main Content */}\n        <div className=\"space-y-8\">\n          {/* Positions by Category */}\n          <div id=\"plataforma\">\n            <h2 className=\"text-2xl font-bold text-white mb-4\">Plataforma Pol√≠tica</h2>\n            {party.positions.length > 0 ? (\n              <div className=\"space-y-4\">\n                {party.positions.map((pos) => (\n                  <div\n                    key={pos.category.category_key}\n                    id={pos.category.category_key}\n                    className=\"scroll-mt-8\"\n                  >\n                    <Accordion items={[accordionItems.find(item => item.id === pos.category.category_key)!]} />\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <div className=\"rounded-xl border border-gray-800 bg-gray-900 p-12 text-center\">\n                <p className=\"text-gray-400\">\n                  No hay informaci√≥n de plataforma disponible para este partido.\n                </p>\n              </div>\n            )}\n          </div>\n\n          {/* Full Extracted Text */}\n          {extractedText && (\n            <div id=\"texto-completo\" className=\"scroll-mt-8\">\n              <h2 className=\"text-2xl font-bold text-white mb-4\">Texto Completo Extra√≠do</h2>\n              <div className=\"rounded-xl border border-gray-800 bg-gray-900 p-6\">\n                <p className=\"text-sm text-gray-400 mb-4\">\n                  Este es el texto completo extra√≠do del documento PDF oficial del partido.\n                </p>\n                <div className=\"prose prose-invert max-w-none\">\n                  <pre className=\"whitespace-pre-wrap text-sm text-gray-300 leading-relaxed\">\n                    {extractedText}\n                  </pre>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}